<header>
    <owl-carousel-o [options]="mainCustomOptions">
        <ng-template carouselSlide>
            <section class="relative w-full min-h-[80vh] bg-gray-100 overflow-hidden flex items-center">
            <div class="absolute inset-0 bg-[url('/images/slider-header1.png')] bg-cover md:bg-contain bg-center bg-no-repeat z-0"></div>

            <div class="relative z-10 container mx-auto px-4 sm:px-6">
                <div class="text-left text-black max-w-xs sm:max-w-md md:max-w-xl p-4 sm:p-0 md:ml-20">
                <p class="italic text-gray-700 mb-2 text-sm md:text-base">Spring - Summer 2025</p>
                <h1 class="text-2xl sm:text-3xl md:text-5xl font-bold mb-4">BEST OF COLLECTION!</h1>
                <p class="text-sm sm:text-base md:text-lg text-gray-700 mb-6 max-w-md leading-relaxed">
                    Duis aute irure dolor in reprehenderit in voluptate velit essecillum dolore eu fugiat nulla pariatur.
                </p>
                <button routerLink="/products" class="px-4 py-1 sm:px-6 sm:py-2 text-sm sm:text-base border-2 border-gray-900 text-gray-900 rounded-full font-semibold hover:bg-[#56cfe1] hover:border-[#56cfe1] hover:text-white transition-all duration-300 cursor-pointer">
                    Shop Now
                    </button>
                </div>
            </div>
            </section>
        </ng-template>  
        <ng-template carouselSlide>
            <section class="relative w-full min-h-[80vh] bg-gray-100 overflow-hidden flex items-center">
                <div class="absolute inset-0 bg-[url('/images/slider-header2.png')] bg-cover md:bg-contain bg-center bg-no-repeat z-0"></div>

                <div class="relative z-10 container max-w-7xl mx-auto px-4 flex justify-end">
                    <div class="w-full md:w-1/2 bg-opacity-90 p-6 md:p-12 text-center md:text-left">
                    <p class="italic text-gray-500 mb-2 text-sm md:text-base">2016 New Arrivals</p>
                    <h1 class="text-4xl md:text-5xl font-bold mb-4">SALE OFF! UP TO 70%</h1>
                    <p class="text-gray-500 mb-6 leading-relaxed">
                        Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore
                        eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident.
                    </p>
                    <button routerLink="/products" class="px-4 py-1 sm:px-6 sm:py-2 text-sm sm:text-base border-2 border-gray-900 text-gray-900 rounded-full font-semibold hover:bg-[#56cfe1] hover:border-[#56cfe1] hover:text-white transition-all duration-300 cursor-pointer">
                        Shop Now
                        </button>
                    </div>
                </div>
            </section>
        </ng-template>  
        <ng-template carouselSlide>
            <section class="relative w-full min-h-[80vh] bg-gray-100 overflow-hidden flex items-center">
                <div class="absolute inset-0 bg-[url('/images/slider-header3.png')] bg-cover md:bg-contain bg-center bg-no-repeat z-0"></div>

                <div class="relative z-10 container max-w-7xl mx-auto px-4 flex justify-center">
                    <div class="w-full md:w-1/2 bg-opacity-90 p-6 md:p-12 text-center">
                    <p class="italic text-gray-500 mb-2 text-sm md:text-base">summer 2106</p>
                    <h1 class="text-4xl md:text-5xl font-bold mb-4">Flash Sale</h1>
                    <button routerLink="/products" class="px-4 py-1 sm:px-6 sm:py-2 text-sm sm:text-base border-2 border-gray-900 text-gray-900 rounded-full font-semibold hover:bg-[#56cfe1] hover:border-[#56cfe1] hover:text-white transition-all duration-300 cursor-pointer">
                        Shop Now
                    </button>
                    </div>
                </div>
            </section>
        </ng-template>
    </owl-carousel-o>
</header>

@if (categories.length > 0) {
<section class="py-12 bg-white">
  <div class="container mx-auto px-4">

    <div class="flex items-center justify-center my-5">
        <div class="flex-grow border-t border-black"></div>
            <h2 class="px-4 text-black text-lg md:text-2xl font-semibold uppercase whitespace-nowrap">
                Shop popular categories
            </h2>
        <div class="flex-grow border-t border-black"></div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">

      @if (categories.length > 2) {
        <div [routerLink]="['/search-products' , categories[2]._id]" class="md:col-span-2 row-span-2 relative group overflow-hidden h-[500px] cursor-pointer">
          <img [src]="categories[2].image" [alt]="categories[2].name" class="w-full h-full object-cover group-hover:scale-110 transition duration-300">
          <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-white px-4 py-2 text-center text-sm font-semibold">
            {{ categories[2].name }}
          </div>
        </div>
      }

      @if (categories.length > 1) {
        <div [routerLink]="['/search-products' , categories[1]._id]" class="relative group overflow-hidden h-[245px] cursor-pointer">
          <img [src]="categories[1].image" [alt]="categories[1].name" class="w-full h-full object-cover group-hover:scale-110 transition duration-300">
          <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-white px-4 py-2 text-center text-sm font-semibold">
            {{ categories[1].name }}
          </div>
        </div>
      }

      @if (categories.length > 9) {
        <div [routerLink]="['/search-products' , categories[9]._id]" class="relative group overflow-hidden h-[245px] cursor-pointer">
          <img [src]="categories[9].image" [alt]="categories[9].name" class="w-full h-full object-cover group-hover:scale-110 transition duration-300">
          <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-white px-4 py-2 text-center text-sm font-semibold">
            {{ categories[9].name }}
          </div>
        </div>
      }

      @if (categories.length > 0) {
        <div [routerLink]="['/search-products' , categories[0]._id]" class="md:col-span-2 relative group overflow-hidden h-[245px] cursor-pointer">
          <img [src]="categories[0].image" [alt]="categories[0].name" class="w-full h-full object-cover group-hover:scale-110 transition duration-300">
          <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-white px-4 py-2 text-center text-sm font-semibold">
            {{ categories[0].name }}
          </div>
        </div>
      }

    </div>
  </div>
</section>
}


<section class="py-5">
    <div class="container mx-auto md:px-12 px-4">
        <div class="flex items-center justify-center my-5">
            <div class="flex-grow border-t border-black"></div>
                <h2 class="px-4 text-black text-lg md:text-2xl font-semibold uppercase whitespace-nowrap">
                    Popular Products
                </h2>
            <div class="flex-grow border-t border-black"></div>
        </div>
        <!-- <input [(ngModel)]="searchItems" type="text" id="uEmail" placeholder="Search....." class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-gray-400 focus:border-gray-400 block w-1/2 p-1.5 mb-3"> -->
         <div class="relative lg:w-1/3 mx-auto">
            <div class="absolute inset-y-0 left-0 bottom-0 flex items-center ps-3 pointer-events-none">
                <i class="fa-solid fa-magnifying-glass size-5 text-gray-500"></i>
            </div>
            <input [(ngModel)]="searchItems" type="text" placeholder="Search..." class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-full focus:ring-gray-400 focus:border-gray-400 block w-full ps-8 p-2 mb-3 ">
        </div>
        @if((products | search : searchItems()).length > 0){
            <div class="parent grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5">
                @for (product of (products | search : searchItems()); track product._id) {
                    <app-card [myProduct]="product"></app-card>
                }
            </div>
            }@else {
                <div class="text-center py-20">
                    <i class="fas fa-search fa-4x text-gray-300 mb-4"></i>
                    <h3 class="text-xl font-semibold text-gray-700">No products found</h3>
                    <p class="text-gray-500 mt-2">
                        @if (searchItems()) {
                            We couldn't find any products matching "{{ searchItems() }}"
                        } @else {
                            No products available at the moment
                        }
                    </p>
                    @if (searchItems()) {
                        <button 
                            (click)="searchItems.set('')"
                            class="mt-4 px-4 py-2 bg-[#56cfe1] text-white rounded-full hover:bg-[#45b8d1] transition duration-300 cursor-pointer">
                            Clear search
                        </button>
                    }
                </div>
                }
    </div>
</section>


<section class="py-5 pb-12">
    <div class="container mx-auto">
        <div class="flex items-center justify-center mt-5">
            <div class="flex-grow border-t border-black"></div>
                <h2 class="px-4 text-black text-lg md:text-2xl font-semibold uppercase whitespace-nowrap">
                    Our Brands
                </h2>
            <div class="flex-grow border-t border-black"></div>
        </div>
        <owl-carousel-o [options]="customOptions">
            @for (brand of brandsList(); track brand._id) {
            <ng-template carouselSlide [id]="brand._id">
                <img [routerLink]="['/search-products' , brand._id]" [src]="brand.image" [alt]="brand.name" [title]="brand.name" class="w-full h-[250px] object-contain cursor-pointer">
                <h3>{{brand.name}}</h3>
            </ng-template>
            }
        </owl-carousel-o>

    </div>
</section>